{
  "version": "2.0",
  "input_styles": {
    "FAST5_DIR": {
      "description": "A directory containing one or more FAST5 files. The UI can upload multiple FAST5 files into a folder and the config points to that folder.",
      "expects": ["input.fast5_dir"]
    },
    "FAST5_ARCHIVE": {
      "description": "A compressed archive of FAST5 files (.zip or .tar.gz). The pipeline extracts into RUN_DIR/inputs/fast5/ and uses that directory.",
      "expects": ["input.fast5_archive"]
    },
    "FASTQ_SINGLE": {
      "description": "Single-end FASTQ (optionally gzipped).",
      "expects": ["input.fastq_r1"]
    },
    "FASTQ_PAIRED": {
      "description": "Paired-end FASTQ (R1 + R2, optionally gzipped).",
      "expects": ["input.fastq_r1", "input.fastq_r2"]
    },
    "FASTQ_DIR_SINGLE": {
      "description": "A directory containing single-end FASTQ files (optionally gzipped). Useful if you later support multi-sample batch mode.",
      "expects": ["input.fastq_dir"]
    },
    "FASTQ_DIR_PAIRED": {
      "description": "A directory containing paired FASTQ files (R1/R2). Useful if you later support multi-sample batch mode.",
      "expects": ["input.fastq_dir"]
    }
  },
  "rules": {
    "lr_no_paired_fastq": "Long-read pipelines must not advertise FASTQ_PAIRED support.",
    "bam_not_supported": "BAM input is not supported."
  },
  "pipelines": {
    "lr_meta": {
      "label": "Long-read metagenomics",
      "read_technology": "long",
      "approach": "shotgun",
      "supported_platforms": ["ONT", "PACBIO"],
      "supported_inputs": ["FAST5_DIR", "FAST5_ARCHIVE", "FASTQ_SINGLE", "FASTQ_DIR_SINGLE"],
      "outputs": ["logs/pipeline.log", "results/report/index.html", "results/tables/summary.tsv"],
      "steps": ["validate_input", "prepare_reads", "qc", "classify", "report"]
    },
    "lr_amp": {
      "label": "Long-read amplicon",
      "read_technology": "long",
      "approach": "amplicon",
      "supported_platforms": ["ONT", "PACBIO"],
      "supported_inputs": ["FAST5_DIR", "FAST5_ARCHIVE", "FASTQ_SINGLE", "FASTQ_DIR_SINGLE"],
      "outputs": ["logs/pipeline.log", "results/report/index.html", "results/tables/summary.tsv"],
      "steps": ["validate_input", "prepare_reads", "qc", "amplicon_process", "report"]
    },
    "sr_meta": {
      "label": "Short-read metagenomics",
      "read_technology": "short",
      "approach": "shotgun",
      "supported_platforms": ["ILLUMINA", "BGI", "IONTORRENT"],
      "supported_inputs": ["FASTQ_SINGLE", "FASTQ_PAIRED", "FASTQ_DIR_SINGLE", "FASTQ_DIR_PAIRED"],
      "outputs": ["logs/pipeline.log", "results/report/index.html", "results/tables/summary.tsv"],
      "steps": ["validate_input", "prepare_reads", "qc", "classify", "report"]
    },
    "sr_amp": {
      "label": "Short-read amplicon (QIIME2)",
      "read_technology": "short",
      "approach": "amplicon",
      "supported_platforms": ["ILLUMINA", "BGI", "IONTORRENT"],
      "supported_inputs": ["FASTQ_SINGLE", "FASTQ_PAIRED", "FASTQ_DIR_SINGLE", "FASTQ_DIR_PAIRED"],
      "outputs": ["logs/pipeline.log", "results/report/index.html", "results/tables/summary.tsv"],
      "steps": ["validate_input", "prepare_reads", "qc", "qiime2", "report"]
    }
  }
}
